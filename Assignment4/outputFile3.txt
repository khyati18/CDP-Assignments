Intial Values : V=100 W=100 X=100 Y=100 Z=100
R-lock [1 , X]
R-lock [1 , Y]
Doing operation X=X+Y
upgrade [1 , X]
Commit transaction 1
R-lock [2 , Z]
Doing operation Z=Z-50
unlock [1 , X]
unlock [1 , Y]
R-lock [3 , X]
R-lock [3 , Y]
Doing operation Y=Y+100
upgrade [3 , Y]
Commit transaction 3
upgrade [2 , Z]
Abort transaction 2
unlock [2 , Z]
unlock [3 , X]
unlock [3 , Y]
Final Values : V=100 W=100 X=200 Y=200 Z=100
